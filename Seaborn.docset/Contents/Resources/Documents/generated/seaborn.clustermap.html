<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>seaborn.clustermap — seaborn 0.7.1 documentation</title>
<link href="../_static/basic.css" rel="stylesheet" type="text/css"/>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../_static/style.css" rel="stylesheet" type="text/css"/>
<link href="../_static/bootswatch-3.3.6/flatly/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="../_static/bootstrap-sphinx.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.7.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
<script src="../_static/jquery.js" type="text/javascript"></script>
<script src="../_static/underscore.js" type="text/javascript"></script>
<script src="../_static/doctools.js" type="text/javascript"></script>
<script src="../_static/copybutton.js" type="text/javascript"></script>
<script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
<script src="../_static/js/jquery-1.11.0.min.js" type="text/javascript"></script>
<script src="../_static/js/jquery-fix.js" type="text/javascript"></script>
<script src="../_static/bootstrap-3.3.6/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../_static/bootstrap-sphinx.js" type="text/javascript"></script>
<link href="../index.html" rel="top" title="seaborn 0.7.1 documentation"/>
<link href="../api.html" rel="up" title="API reference"/>
<link href="seaborn.tsplot.html" rel="next" title="seaborn.tsplot"/>
<link href="seaborn.heatmap.html" rel="prev" title="seaborn.heatmap"/>
<meta charset="utf-8"/>
<meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0, maximum-scale=1" name="viewport"/>
<meta content="yes" name="apple-mobile-web-app-capable"/>
</head>
<body role="document">
<div class="navbar navbar-default navbar-fixed-top" id="navbar">
<div class="container">
<div class="navbar-header">
<!-- .btn-navbar is used as the toggle for collapsed navbar content -->
<button class="navbar-toggle" data-target=".nav-collapse" data-toggle="collapse" type="button">
<span class="icon-bar"></span>
<span class="icon-bar"></span>
<span class="icon-bar"></span>
</button>
<a class="navbar-brand" href="../index.html">
          seaborn</a>
<span class="navbar-text navbar-version pull-left"><b>0.7.1</b></span>
</div>
<div class="collapse navbar-collapse nav-collapse">
<ul class="nav navbar-nav">
<li><a href="../api.html">API</a></li>
<li><a href="../tutorial.html">Tutorial</a></li>
<li><a href="../examples/index.html">Gallery</a></li>
<li class="dropdown globaltoc-container">
<a data-target="#" data-toggle="dropdown" href="../index.html" id="dLabelGlobalToc" role="button">Site <b class="caret"></b></a>
<ul aria-labelledby="dLabelGlobalToc" class="dropdown-menu globaltoc" role="menu"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">An introduction to seaborn</a></li>
<li class="toctree-l1"><a class="reference internal" href="../whatsnew.html">What’s new in the package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installing.html">Installing and getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Example gallery</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">API reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Seaborn tutorial</a></li>
</ul>
</ul>
</li>
<li class="dropdown">
<a data-target="#" data-toggle="dropdown" href="#" id="dLabelLocalToc" role="button">Page <b class="caret"></b></a>
<ul aria-labelledby="dLabelLocalToc" class="dropdown-menu localtoc" role="menu"><ul>
<li><a class="reference internal" href="#">seaborn.clustermap</a></li>
</ul>
</ul>
</li>
</ul>
<form action="../search.html" class="navbar-form navbar-right" method="get">
<div class="form-group">
<input class="form-control" name="q" placeholder="Search" type="text"/>
</div>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div>
</div>
<div class="container">
<div class="row">
<div class="col-md-12 content">
<div class="section" id="seaborn-clustermap">
<h1>seaborn.clustermap<a class="headerlink" href="#seaborn-clustermap" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="seaborn.clustermap"><a name="//apple_ref/cpp/Function/seaborn.clustermap"></a><a name="//apple_ref/cpp/Function/seaborn.clustermap"></a>
<code class="descclassname">seaborn.</code><code class="descname">clustermap</code><span class="sig-paren">(</span><em>data</em>, <em>pivot_kws=None</em>, <em>method='average'</em>, <em>metric='euclidean'</em>, <em>z_score=None</em>, <em>standard_scale=None</em>, <em>figsize=None</em>, <em>cbar_kws=None</em>, <em>row_cluster=True</em>, <em>col_cluster=True</em>, <em>row_linkage=None</em>, <em>col_linkage=None</em>, <em>row_colors=None</em>, <em>col_colors=None</em>, <em>mask=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#seaborn.clustermap" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a hierarchically clustered heatmap of a pandas DataFrame</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name"></col>
<col class="field-body"></col>
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>data: pandas.DataFrame</strong></p>
<blockquote>
<div><p>Rectangular data for clustering. Cannot contain NAs.</p>
</div></blockquote>
<p><strong>pivot_kws</strong> : dict, optional</p>
<blockquote>
<div><p>If <cite>data</cite> is a tidy dataframe, can provide keyword arguments for
pivot to create a rectangular dataframe.</p>
</div></blockquote>
<p><strong>method</strong> : str, optional</p>
<blockquote>
<div><p>Linkage method to use for calculating clusters.
See scipy.cluster.hierarchy.linkage documentation for more information:
<a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.cluster.hierarchy.linkage.html">http://docs.scipy.org/doc/scipy/reference/generated/scipy.cluster.hierarchy.linkage.html</a></p>
</div></blockquote>
<p><strong>metric</strong> : str, optional</p>
<blockquote>
<div><p>Distance metric to use for the data. See
scipy.spatial.distance.pdist documentation for more options
<a class="reference external" href="http://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.pdist.html">http://docs.scipy.org/doc/scipy/reference/generated/scipy.spatial.distance.pdist.html</a></p>
</div></blockquote>
<p><strong>z_score</strong> : int or None, optional</p>
<blockquote>
<div><p>Either 0 (rows) or 1 (columns). Whether or not to calculate z-scores
for the rows or the columns. Z scores are: z = (x - mean)/std, so
values in each row (column) will get the mean of the row (column)
subtracted, then divided by the standard deviation of the row (column).
This ensures that each row (column) has mean of 0 and variance of 1.</p>
</div></blockquote>
<p><strong>standard_scale</strong> : int or None, optional</p>
<blockquote>
<div><p>Either 0 (rows) or 1 (columns). Whether or not to standardize that
dimension, meaning for each row or column, subtract the minimum and
divide each by its maximum.</p>
</div></blockquote>
<p><strong>figsize: tuple of two ints, optional</strong></p>
<blockquote>
<div><p>Size of the figure to create.</p>
</div></blockquote>
<p><strong>cbar_kws</strong> : dict, optional</p>
<blockquote>
<div><p>Keyword arguments to pass to <code class="docutils literal"><span class="pre">cbar_kws</span></code> in <code class="docutils literal"><span class="pre">heatmap</span></code>, e.g. to
add a label to the colorbar.</p>
</div></blockquote>
<p><strong>{row,col}_cluster</strong> : bool, optional</p>
<blockquote>
<div><p>If True, cluster the {rows, columns}.</p>
</div></blockquote>
<p><strong>{row,col}_linkage</strong> : numpy.array, optional</p>
<blockquote>
<div><p>Precomputed linkage matrix for the rows or columns. See
scipy.cluster.hierarchy.linkage for specific formats.</p>
</div></blockquote>
<p><strong>{row,col}_colors</strong> : list-like or pandas DataFrame/Series, optional</p>
<blockquote>
<div><p>List of colors to label for either the rows or columns. Useful to
evaluate whether samples within a group are clustered together. Can
use nested lists or DataFrame for multiple color levels of labeling.
If given as a DataFrame or Series, labels for the colors are extracted
from the DataFrames column names or from the name of the Series.
DataFrame/Series colors are also matched to the data by their
index, ensuring colors are drawn in the correct order.</p>
</div></blockquote>
<p><strong>mask</strong> : boolean array or DataFrame, optional</p>
<blockquote>
<div><p>If passed, data will not be shown in cells where <code class="docutils literal"><span class="pre">mask</span></code> is True.
Cells with missing values are automatically masked. Only used for
visualizing, not for calculating.</p>
</div></blockquote>
<p><strong>kwargs</strong> : other keyword arguments</p>
<blockquote>
<div><p>All other keyword arguments are passed to <code class="docutils literal"><span class="pre">sns.heatmap</span></code></p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>clustergrid</strong> : ClusterGrid</p>
<blockquote class="last">
<div><p>A ClusterGrid instance.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>The returned object has a <code class="docutils literal"><span class="pre">savefig</span></code> method that should be used if you
want to save the figure object without clipping the dendrograms.</p>
<p>To access the reordered row indices, use:
<code class="docutils literal"><span class="pre">clustergrid.dendrogram_row.reordered_ind</span></code></p>
<p>Column indices, use:
<code class="docutils literal"><span class="pre">clustergrid.dendrogram_col.reordered_ind</span></code></p>
<p class="rubric">Examples</p>
<p>Plot a clustered heatmap:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">seaborn</span> <span class="kn">as</span> <span class="nn">sns</span><span class="p">;</span> <span class="n">sns</span><span class="o">.</span><span class="n">set</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flights</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">load_dataset</span><span class="p">(</span><span class="s2">"flights"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">flights</span> <span class="o">=</span> <span class="n">flights</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="s2">"month"</span><span class="p">,</span> <span class="s2">"year"</span><span class="p">,</span> <span class="s2">"passengers"</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">clustermap</span><span class="p">(</span><span class="n">flights</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure">
<img alt="../_images/seaborn-clustermap-1.png" src="../_images/seaborn-clustermap-1.png"/>
</div>
<p>Don’t cluster one of the axes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">clustermap</span><span class="p">(</span><span class="n">flights</span><span class="p">,</span> <span class="n">col_cluster</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure">
<img alt="../_images/seaborn-clustermap-2.png" src="../_images/seaborn-clustermap-2.png"/>
</div>
<p>Use a different colormap and add lines to separate the cells:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cmap</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">cubehelix_palette</span><span class="p">(</span><span class="n">as_cmap</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">rot</span><span class="o">=-.</span><span class="mi">3</span><span class="p">,</span> <span class="n">light</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">clustermap</span><span class="p">(</span><span class="n">flights</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">linewidths</span><span class="o">=.</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure">
<img alt="../_images/seaborn-clustermap-3.png" src="../_images/seaborn-clustermap-3.png"/>
</div>
<p>Use a different figure size:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">clustermap</span><span class="p">(</span><span class="n">flights</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="n">cmap</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
</pre></div>
</div>
<div class="figure">
<img alt="../_images/seaborn-clustermap-4.png" src="../_images/seaborn-clustermap-4.png"/>
</div>
<p>Standardize the data across the columns:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">clustermap</span><span class="p">(</span><span class="n">flights</span><span class="p">,</span> <span class="n">standard_scale</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure">
<img alt="../_images/seaborn-clustermap-5.png" src="../_images/seaborn-clustermap-5.png"/>
</div>
<p>Normalize the data across the rows:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">clustermap</span><span class="p">(</span><span class="n">flights</span><span class="p">,</span> <span class="n">z_score</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure">
<img alt="../_images/seaborn-clustermap-6.png" src="../_images/seaborn-clustermap-6.png"/>
</div>
<p>Use a different clustering method:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">clustermap</span><span class="p">(</span><span class="n">flights</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s2">"single"</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s2">"cosine"</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure">
<img alt="../_images/seaborn-clustermap-7.png" src="../_images/seaborn-clustermap-7.png"/>
</div>
<p>Add colored labels on one of the axes:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">season_colors</span> <span class="o">=</span> <span class="p">(</span><span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">"BuPu"</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span>
<span class="gp">... </span>                 <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">"RdPu"</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span>
<span class="gp">... </span>                 <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">"YlGn"</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="o">+</span>
<span class="gp">... </span>                 <span class="n">sns</span><span class="o">.</span><span class="n">color_palette</span><span class="p">(</span><span class="s2">"OrRd"</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">clustermap</span><span class="p">(</span><span class="n">flights</span><span class="p">,</span> <span class="n">row_colors</span><span class="o">=</span><span class="n">season_colors</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure">
<img alt="../_images/seaborn-clustermap-8.png" src="../_images/seaborn-clustermap-8.png"/>
</div>
</dd></dl>
</div>
</div>
</div>
</div>
<footer class="footer">
<div class="container">
<p class="pull-right">
<a href="#">Back to top</a>
<br/>
</p><div id="sourcelink">
<a href="../_sources/generated/seaborn.clustermap.txt" rel="nofollow">Source</a>
</div>
<p>
        © Copyright 2012-2015, Michael Waskom.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.5.<br/>
</p>
</div>
</footer>
</body>
</html>